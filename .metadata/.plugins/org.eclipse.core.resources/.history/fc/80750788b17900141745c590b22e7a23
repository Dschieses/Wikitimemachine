package util;

import java.io.BufferedReader;
import java.io.FileWriter;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.util.ArrayList;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import com.google.gson.Gson;

import entity.Category;
import entity.Page;

public class ApiCaller {

	
	private String apcontinue = "";
	private Connection c;
	private PreparedStatement stmt;
	private FileWriter fw;
	private List<String> apContinueList;
	
	public ApiCaller() {
		apContinueList = new ArrayList<String>();
	}

	public void start(String startUrl) throws Exception {
		// SimpleDateFormat sdf = new SimpleDateFormat("HH:mm:ss.SSS");
		// String uhrzeit = sdf.format(new Date());
		// System.out.println(uhrzeit);
		// String startString = sendGet(startUrl);
		// JSONObject startJson = getJSON(startString);
		// getApContinue(startJson);
		// String line = "";
		// // fw = new FileWriter("C:/Users/Peter/Desktop/people.csv");
		// do {
		// // List<Page> list = getPageInfo(startJson);
		// //
		// // for (Page page : list) {
		// // // getCategories(page);
		// // // Prüfe ob kategorie zu Person gehört
		// // line = page.getPageid() + ";" + page.getTitle() + ";"
		// // + page.getNs();
		// // fw.write(line + "\n");
		// // fw.flush();
		// //
		// // }
		//
		// startString = sendGet(startUrl + getEncoded(apcontinue));
		// startJson = getJSON(startString);
		//
		// } while (getApContinue(startJson));
		//
		// sdf = new SimpleDateFormat("HH:mm:ss.SSS");
		// uhrzeit = sdf.format(new Date());
		// System.out.println(uhrzeit);
		// System.out.println(apContinueList.size());
		// fw = new FileWriter("C:/Users/Peter/Desktop/apcontinue.csv");
		// for (String string : apContinueList) {
		// fw.write(string + "\n");
		// fw.flush();
		// }
		Category c = new Category();
		c.setTitle("Mann");
		getCategoryMembers(c, "");

	}
	private JSONObject getJSON(String input) throws JSONException {
		return new JSONObject(input);
	}

	private JSONObject getSubJSON(JSONObject json, String subObject)
			throws JSONException {
		return json.getJSONObject(subObject);
	}
	

	


	

}
